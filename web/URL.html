<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <!-- Metadata -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Tab title -->
    <title>IDEA.inc - URL</title>
    <link rel="stylesheet" type="text/css" href="css/style.css">
</head>
<body>
<header id="main-header">
    <div class="container">
        <h1>URL</h1>
    </div>
</header>
<!-- Navigation Bar -->
<nav id="navbar">
    <div class="container">
        <ul>
            <li><a href="home.html">Home</a></li>
            <li><a href="animals.html">Animals</a></li>
            <li><a href="contact.html">Contact</a></li>
            <li><a href="URL.html">URL</a></li>
            <li><a href="PDF.html">PDF</a></li>
            <li><a href="message.html">Message</a></li>
        </ul>
    </div>
</nav>

<!-- Showcase Section -->
<section id="showcase">
    <div class="container">
        <h1>Lorem ipsum dolor sit amet, consectetur adipisicing elit</h1>
    </div>
</section>

<div>
  Key
  <input id="keyForm" type="text" name="" value="">
  Value
  <input id="valueForm" type="text" name="" value="">
  <button type="button" name="button" onclick="add()">Add</button>
  <button type="button" name="button" onclick="submit()">Submit</button><br>
  Query
  <input id="query" type="text" name="" value=""><br>
  <textarea id="presentJson" name="presentJson" rows="50" cols="80" value="test"></textarea>
</div>

<script>
  function add(){
    var key = document.getElementById("keyForm").value;
    var value = document.getElementById("valueForm").value;
    var query = document.getElementById("query").value;
    if (query === "") {
      document.getElementById("query").value = query + key + "=" + value;
    } else {
      document.getElementById("query").value = query + "&" + key + "=" + value;
    }
  }

  function submit(){
    var query = document.getElementById("query").value;
    var url = window.location.origin + window.location.pathname;
    if (query !== "") {
      window.location.href = url + "?" + query;
    } else {
      window.location.href = url;
    }
  }

  document.addEventListener("DOMContentLoaded", function() {
    var baseURL = window.location.origin + window.location.pathname;
    if (baseURL != window.location) {
      fetch(window.location.origin +"/web/" + "jsonData.json") //Ändra till en variabel för .json. Koppla ihop med java. Hur?
      .then(function(response) {
        return response.json();
      })
      .then(function(myJson) {
        document.getElementById("presentJson").innerHTML = JSON.stringify(myJson);
      });
    }
  }, false);
</script>

<a class="fix-me button" href="index.html">Index</a>

<!-- Footer -->
<footer id="main-footer">
    <p>Copyright &copy; 2019 IDEA.inc</p>
</footer>
</body>
</html>
